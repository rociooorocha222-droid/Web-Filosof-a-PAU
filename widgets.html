<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>WIDGETS - FILOSOF√çA</title>
    <link rel="stylesheet" href="Roc√≠o Rocha Castro - archivo_css (1).css">
    
    <style>
        /* ---------------------------------------------------- */
        /* ESTILOS DEL MEN√ö DESPLEGABLE (NUEVO)                 */
        /* ---------------------------------------------------- */
        /* Contenedor del men√∫ para alinear los items */
        .nav-links {
            display: flex;
            align-items: center;
            gap: 15px; /* Espacio entre enlaces */
        }

        /* El contenedor del bot√≥n desplegable */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        /* El bot√≥n del men√∫ (Utilidades) */
        .dropbtn {
            background-color: transparent;
            color: white;
            padding: 10px;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            font-family: inherit; /* Hereda la fuente de tu web */
            text-transform: uppercase; /* Opcional: may√∫sculas como el resto */
        }

        /* El contenido oculto (la lista de widgets) */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #1a1a1a; /* Fondo oscuro */
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.8);
            border: 1px solid #d4af37; /* Borde dorado */
            z-index: 1000;
            border-radius: 5px;
        }

        /* Los enlaces dentro del desplegable */
        .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        /* Efecto hover en los enlaces del desplegable */
        .dropdown-content a:hover {
            background-color: #d4af37;
            color: black;
        }

        /* Mostrar el men√∫ al pasar el rat√≥n */
        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Cambiar color del bot√≥n principal al desplegar */
        .dropdown:hover .dropbtn {
            color: #d4af37;
        }

        /* ---------------------------------------------------- */
        /* ESTILOS DE LOS WIDGETS (YA EXISTENTES)               */
        /* ---------------------------------------------------- */
        .widget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
            padding-bottom: 50px; /* Espacio extra abajo */
        }

        .widget-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.3);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            
            /* Esto es clave para que los enlaces internos no queden tapados por el men√∫ fijo si lo tienes */
            scroll-margin-top: 100px; 
        }
        
        .widget-card:hover {
            transform: translateY(-5px);
            border-color: #d4af37;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }

        .widget-card h2 {
            color: #d4af37;
            font-size: 1.5rem;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }

        input, select {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #d4af37;
            color: white;
            padding: 8px;
            border-radius: 5px;
            margin: 5px;
            width: 80%;
        }

        button.action-btn {
            background: #d4af37;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: 0.3s;
            width: 100%;
        }

        button.action-btn:hover {
            background: #fff;
            box-shadow: 0 0 10px #d4af37;
        }

        #reloj-display {
            font-family: 'Courier New', monospace;
            font-size: 2.5rem;
            color: #fff;
            text-shadow: 0 0 10px #d4af37;
            margin: 20px 0;
        }

        .resultado-texto {
            color: #ddd;
            margin-top: 15px;
            font-style: italic;
            min-height: 40px;
        }

        #imagenes-grid img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
            border: 1px solid #555;
        }
        
        #imagenes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }
        
        /* Ajuste para m√≥vil: que el desplegable no rompa el dise√±o */
        @media (max-width: 768px) {
            .nav-links {
                flex-direction: column;
            }
            .dropdown-content {
                position: static;
                width: 100%;
                box-shadow: none;
                border: none;
                background: rgba(255,255,255,0.05);
            }
        }
    </style>
</head>
<body>

    <nav>
        <a href="index.html" class="logo">FILOSOF√çA</a>
        
        <div class="nav-links">
            <a href="index.html">Inicio</a>
            <a href="antigua.html">Antigua</a>
            <a href="medieval.html">Medieval</a>
            <a href="moderna.html">Moderna</a>
            <a href="contemporanea.html">Contempor√°nea</a>
            
            <div class="dropdown">
                <button class="dropbtn">WIDGETS ‚ñæ</button>
                <div class="dropdown-content">
                    <a href="#card-reloj">‚è≥ Reloj</a>
                    <a href="#card-clima">üå§Ô∏è Clima</a>
                    <a href="#card-moneda">üí± Divisas</a>
                    <a href="#card-cita">üí≠ Citas</a>
                    <a href="#card-galeria">üñºÔ∏è Galer√≠a</a>
                    <a href="#card-chiste">üòÇ Humor</a>
                </div>
            </div>
        </div>
    </nav>

    <header class="header-pagina">
        <h1>WIDGETS</h1>
        <p>Herramientas √∫tiles</p>
    </header>

    <main class="container">
        <a href="index.html" class="btn-volver">‚Üê Volver al inicio</a>

        <div class="widget-grid">

            <div class="widget-card" id="card-reloj">
                <h2>‚è≥ El Tiempo</h2>
                <div id="reloj-display">00:00:00</div>
                <p style="color: #aaa; font-size: 0.9rem;">Hora actual en tiempo real</p>
            </div>

            <div class="widget-card" id="card-clima">
                <h2>üå§Ô∏è El Clima</h2>
                <input type="text" id="ciudad-input" placeholder="Ej: Madrid, Atenas...">
                <button class="action-btn" onclick="obtenerClima()">Ver Clima</button>
                <div id="clima-resultado" class="resultado-texto"></div>
            </div>

            <div class="widget-card" id="card-moneda">
                <h2>üí± Divisas</h2>
                <input type="number" id="monto" value="1" placeholder="Cantidad">
                <select id="moneda-origen">
                    <option value="EUR">Euro (‚Ç¨)</option>
                    <option value="USD">D√≥lar ($)</option>
                    <option value="GBP">Libra (¬£)</option>
                    <option value="MXN">Peso MX ($)</option>
                </select>
                <button class="action-btn" onclick="convertirMoneda()">Convertir</button>
                <div id="resultado-moneda" class="resultado-texto"></div>
            </div>

            <div class="widget-card" id="card-cita">
                <h2>üí≠ Cita Filos√≥fica</h2>
                <div id="cita-display" style="min-height: 100px; display:flex; flex-direction:column; align-items:center; justify-content:center;">
                    <p id="cita-texto" style="font-style: italic; color: #fff; font-size: 1.1rem;">"Pulsa el bot√≥n para recibir sabidur√≠a."</p>
                    <p id="cita-autor" style="color: #d4af37; margin-top: 10px; font-weight: bold;"></p>
                </div>
                <button class="action-btn" onclick="obtenerCita()">Nueva Cita</button>
            </div>

            <div class="widget-card" id="card-galeria">
                <h2>üñºÔ∏è Descanso Visual</h2>
                <div id="imagenes-grid"></div>
                <button class="action-btn" onclick="cargarImagenes()">Cargar Fotos</button>
            </div>

            <div class="widget-card" id="card-chiste">
                <h2>üòÇ Humor</h2>
                <p id="chiste-texto" class="resultado-texto" style="font-size: 1.1rem; color: #fff;">¬øPreparado para re√≠r?</p>
                <button class="action-btn" onclick="obtenerChiste()">Contar Chiste</button>
            </div>

        </div>
    </main>

    <script>
        // ----------------------------------------
        // BASE DE DATOS INTERNA (Citas y Chistes)
        // ----------------------------------------
        const citasFilosoficas = [
            { texto: "Solo s√© que no s√© nada.", autor: "S√≥crates" },
            { texto: "Pienso, luego existo.", autor: "Ren√© Descartes" },
            { texto: "El hombre es un animal pol√≠tico.", autor: "Arist√≥teles" },
            { texto: "Cree para entender y entiende para creer.", autor: "San Agust√≠n" },
            { texto: "El coraz√≥n tiene razones que la raz√≥n ignora.", autor: "Blaise Pascal" },
            { texto: "Dios ha muerto.", autor: "F. Nietzsche" },
            { texto: "Lo que no te mata te hace m√°s fuerte.", autor: "F. Nietzsche" },
            { texto: "Estamos condenados a ser libres.", autor: "Jean-Paul Sartre" },
            { texto: "El infierno son los otros.", autor: "Jean-Paul Sartre" },
            { texto: "La vida no examinada no merece la pena ser vivida.", autor: "S√≥crates" },
            { texto: "Yo soy yo y mi circunstancia.", autor: "Ortega y Gasset" },
            { texto: "Donde reina el amor, sobran las leyes.", autor: "Plat√≥n" },
            { texto: "Atr√©vete a saber (Sapere Aude).", autor: "Immanuel Kant" },
            { texto: "El hombre es un lobo para el hombre.", autor: "Thomas Hobbes" }
        ];

        const chistesEsp = [
            "¬øCu√°l es el colmo de un fil√≥sofo? Que le salga un hijo ingeniero.",
            "‚Äî Pap√°, ¬øqu√© es la filosof√≠a?\n‚Äî C√°llate y corre, que perdemos el bus.",
            "Descartes entra en un bar. El camarero le pregunta: '¬øQuiere una cerveza?'. Descartes responde: 'No pienso'. Y desaparece.",
            "Va un fil√≥sofo y dice: 'Dudo, luego existo'. Y el otro le contesta: 'Pues yo como, luego engordo'.",
            "¬øPor qu√© el libro de matem√°ticas se suicid√≥? Porque ten√≠a demasiados problemas.",
            "‚Äî ¬°Soldado! ¬°Ice la bandera!\n‚Äî Pues le ha quedado muy bonita mi sargento.",
            "El gato de Schr√∂dinger entra en un bar... y no entra.",
            "Un optimista ve el vaso medio lleno. Un pesimista ve el vaso medio vac√≠o. Un fil√≥sofo pregunta: ¬øpor qu√© hay vaso?",
            "¬øQu√© hace una abeja en el gimnasio? ¬°Zum-ba!",
            "‚Äî Oye, ¬øqu√© tal tu primer d√≠a de parkour?\n‚Äî De miedo, me he roto los dientes, pero el bordillo est√° bien.",
            "Dios le dice a Ad√°n: 'Os dar√© dos virtudes: inteligencia y simpat√≠a. Pero solo podr√©is tener una'. Y as√≠ fue como cre√≥ a los cu√±ados.",
            "Hay 10 tipos de personas en el mundo: los que saben binario y los que no."
        ];

        // ----------------------------------------
        // L√ìGICA
        // ----------------------------------------

        // 1. RELOJ
        function actualizarReloj() {
            const ahora = new Date();
            document.getElementById('reloj-display').textContent = ahora.toLocaleTimeString('es-ES');
        }
        setInterval(actualizarReloj, 1000);

        // 2. CLIMA
        function obtenerClima() {
            const ciudad = document.getElementById('ciudad-input').value;
            const div = document.getElementById('clima-resultado');
            if (!ciudad) { div.innerHTML = "Escribe una ciudad primero."; return; }
            div.innerHTML = "Buscando...";
            
            fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${ciudad}&count=1&language=es&format=json`)
                .then(r => r.json())
                .then(d => {
                    if (!d.results) { div.innerHTML = "Ciudad no encontrada"; return; }
                    const { latitude, longitude } = d.results[0];
                    return fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m`);
                })
                .then(r => r.json())
                .then(data => {
                    if(data.current) {
                        div.innerHTML = `Temp: <b>${data.current.temperature_2m}¬∞C</b><br>Humedad: ${data.current.relative_humidity_2m}%`;
                    }
                })
                .catch(e => div.innerHTML = "Error de conexi√≥n");
        }

        // 3. MONEDAS
        function convertirMoneda() {
            const monto = document.getElementById('monto').value;
            const moneda = document.getElementById('moneda-origen').value;
            const div = document.getElementById('resultado-moneda');
            div.innerHTML = "Calculando...";
            
            fetch(`https://open.er-api.com/v6/latest/${moneda}`)
                .then(r => r.json())
                .then(d => {
                    let html = "";
                    const destinos = ['USD', 'EUR', 'GBP', 'MXN'];
                    destinos.forEach(dest => {
                        if (dest !== moneda) {
                            html += `<div style="margin-top:5px;">${(monto * d.rates[dest]).toFixed(2)} ${dest}</div>`;
                        }
                    });
                    div.innerHTML = html;
                })
                .catch(e => div.innerHTML = "Error al convertir");
        }

        // 4. CITAS
        function obtenerCita() {
            const indice = Math.floor(Math.random() * citasFilosoficas.length);
            const cita = citasFilosoficas[indice];
            document.getElementById('cita-texto').textContent = `"${cita.texto}"`;
            document.getElementById('cita-autor').textContent = `‚Äî ${cita.autor}`;
        }

        // 5. GALER√çA
        function cargarImagenes() {
            const grid = document.getElementById('imagenes-grid');
            grid.innerHTML = "<p>Cargando...</p>";
            Promise.all([
                fetch('https://dog.ceo/api/breeds/image/random').then(r=>r.json()),
                fetch('https://dog.ceo/api/breeds/image/random').then(r=>r.json()),
                fetch('https://dog.ceo/api/breeds/image/random').then(r=>r.json()),
                fetch('https://dog.ceo/api/breeds/image/random').then(r=>r.json())
            ]).then(resultados => {
                grid.innerHTML = "";
                resultados.forEach(d => {
                    grid.innerHTML += `<img src="${d.message}">`;
                });
            });
        }

        // 6. CHISTES
        function obtenerChiste() {
            const indice = Math.floor(Math.random() * chistesEsp.length);
            document.getElementById('chiste-texto').textContent = chistesEsp[indice];
        }

        // INICIO
        window.onload = function() {
            actualizarReloj();
            obtenerCita();
            obtenerChiste();
            cargarImagenes();
        };
    </script>
</body>

</html>
